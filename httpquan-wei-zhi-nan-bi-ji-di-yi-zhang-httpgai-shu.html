<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Chen Jie" />
        <meta name="copyright" content="Chen Jie" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="http, http, " />

<meta property="og:title" content="《HTTP权威指南》笔记 第一章 HTTP概述 "/>
<meta property="og:url" content="http://chenjiee815.github.io/httpquan-wei-zhi-nan-bi-ji-di-yi-zhang-httpgai-shu.html" />
<meta property="og:description" content="这一章主要介绍了 HTTP 协议的一些基本概念， 这样大家会对 HTTP 有一个基本的了解。 Web 客户端和服务器 Web 资源 资源既可以是静态文件，也可以是根据需求动态生成的。 媒体类型 资源多了，就要分类。HTTP 采用了 MIME 类型。 MIME 类型原来是在邮件里面使用的，由于它很成熟也很好用， 所以 HTTP 也采用了。 Web 服务器会为所有的 HTTP 对象数据附加一个 MIME 类型。 当浏览器从服务器中取回一个对象时，会去查看相关的 MIME 类型， 这样它就知道如何处理这个对象了。 常用 MIME 类型举例： HTML 格式的文本文档：text/tml 普通的 ASCII 文本文档：text/plain JPEG 格式的图片 ..." />
<meta property="og:site_name" content="January Star" />
<meta property="og:article:author" content="Chen Jie" />
<meta property="og:article:published_time" content="2014-08-16T09:10:44.200008" />
<meta name="twitter:title" content="《HTTP权威指南》笔记 第一章 HTTP概述 ">
<meta name="twitter:description" content="这一章主要介绍了 HTTP 协议的一些基本概念， 这样大家会对 HTTP 有一个基本的了解。 Web 客户端和服务器 Web 资源 资源既可以是静态文件，也可以是根据需求动态生成的。 媒体类型 资源多了，就要分类。HTTP 采用了 MIME 类型。 MIME 类型原来是在邮件里面使用的，由于它很成熟也很好用， 所以 HTTP 也采用了。 Web 服务器会为所有的 HTTP 对象数据附加一个 MIME 类型。 当浏览器从服务器中取回一个对象时，会去查看相关的 MIME 类型， 这样它就知道如何处理这个对象了。 常用 MIME 类型举例： HTML 格式的文本文档：text/tml 普通的 ASCII 文本文档：text/plain JPEG 格式的图片 ...">

        <title>《HTTP权威指南》笔记 第一章 HTTP概述  · January Star
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://chenjiee815.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://chenjiee815.github.io/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://chenjiee815.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://chenjiee815.github.io/theme/css/custom.css" media="screen">
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-52167018-1', 'auto');
    ga('send', 'pageview');
</script>
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <div class="span1"></div>
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://chenjiee815.github.io/"><span class=site-name>January Star</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://chenjiee815.github.io">Home</a></li>
                            <li ><a href="http://chenjiee815.github.io/categories.html">Categories</a></li>
                            <li ><a href="http://chenjiee815.github.io/tags.html">Tags</a></li>
                            <li ><a href="http://chenjiee815.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://chenjiee815.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://chenjiee815.github.io/httpquan-wei-zhi-nan-bi-ji-di-yi-zhang-httpgai-shu.html"> 《HTTP权威指南》笔记 第一章 HTTP概述  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#web" id="id13">Web 客户端和服务器 </a></li>
<li><a class="reference internal" href="#id1" id="id14">Web 资源 </a></li>
<li><a class="reference internal" href="#id2" id="id15"> 媒体类型 </a></li>
<li><a class="reference internal" href="#uri" id="id16">URI</a><ul>
<li><a class="reference internal" href="#url" id="id17">URL</a></li>
<li><a class="reference internal" href="#urn" id="id18">URN</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3" id="id19"> 事务 </a></li>
<li><a class="reference internal" href="#id4" id="id20"> 方法 </a></li>
<li><a class="reference internal" href="#id5" id="id21"> 状态码 </a></li>
<li><a class="reference internal" href="#id6" id="id22"> 报文 </a></li>
<li><a class="reference internal" href="#id7" id="id23"> 连接 </a></li>
<li><a class="reference internal" href="#id8" id="id24">Web 的结构组件 </a><ul>
<li><a class="reference internal" href="#id9" id="id25"> 代理 </a></li>
<li><a class="reference internal" href="#id10" id="id26"> 缓存 </a></li>
<li><a class="reference internal" href="#id11" id="id27"> 网关 </a></li>
<li><a class="reference internal" href="#id12" id="id28"> 隧道 </a></li>
<li><a class="reference internal" href="#agent" id="id29">Agent 代理 </a></li>
</ul>
</li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">

            
            <p> 这一章主要介绍了 HTTP 协议的一些基本概念，
这样大家会对 HTTP 有一个基本的了解。</p>

<div class="section" id="web">
<h2><a class="toc-backref" href="#id13">Web 客户端和服务器 </a></h2>
<img alt="" src="http_definitive_guide/static/web_clients_and_servers.png"/>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id14">Web 资源 </a></h2>
<p> 资源既可以是静态文件，也可以是根据需求动态生成的。</p>
<img alt="" src="http_definitive_guide/static/web_resources.png"/>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id15"> 媒体类型 </a></h2>
<p> 资源多了，就要分类。HTTP 采用了 MIME 类型。
MIME 类型原来是在邮件里面使用的，由于它很成熟也很好用，
所以 HTTP 也采用了。</p>
<p>Web 服务器会为所有的 HTTP 对象数据附加一个 MIME 类型。</p>
<p> 当浏览器从服务器中取回一个对象时，会去查看相关的 MIME 类型，
这样它就知道如何处理这个对象了。</p>
<p> 常用 MIME 类型举例：</p>
<ul class="simple">
<li>HTML 格式的文本文档：text/tml</li>
<li> 普通的 ASCII 文本文档：text/plain</li>
<li>JPEG 格式的图片：image/jpeg</li>
</ul>
</div>
<div class="section" id="uri">
<h2><a class="toc-backref" href="#id16">URI</a></h2>
<p>Uniform Resource Idenifier: 统一资源标识符 </p>
<p>URI 有两种形式：URL 和 URN。</p>
<div class="section" id="url">
<h3><a class="toc-backref" href="#id17">URL</a></h3>
<p> 统一资源定位符，它描述了一台特定服务器上某资源的特定位置。</p>
<p> 大部分 URL 都遵循一种标准格式：</p>
<ul class="simple">
<li> 第一部分：方案 (scheme)，说明了使用的协议类型。</li>
<li> 第二部分：服务器地址。</li>
<li> 其余部分：服务器上的某个资源。</li>
</ul>
</div>
<div class="section" id="urn">
<h3><a class="toc-backref" href="#id18">URN</a></h3>
<p> 统一资源名，作为特定内容的唯一名称使用，与资源的所在地无关。
现实中用的很少，还处于试验阶段。</p>
</div>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id19"> 事务 </a></h2>
<p> 一个 HTTP 事务由一条（客户端发给服务器）的请求消息和
一个（从服务器发回客户端）的响应消息组成。</p>
<p> 这种通信是通过名为 HTTP 报文（HTTP message）的格式化数据块进行的。</p>
<img alt="" src="http_definitive_guide/static/http_transactions.png"/>
</div>
<div class="section" id="id4">
<h2><a class="toc-backref" href="#id20"> 方法 </a></h2>
<p> 每条 HTTP 请求报文都包含一个方法，这些叫做 HTTP 方法（HTTP method）。</p>
<p> 这些方法会告诉服务器要执行什么动作。</p>
<table border="1" class="docutils">
<caption> 常见的 HTTP 方法 </caption>
<colgroup>
<col width="33%"></col>
<col width="67%"></col>
</colgroup>
<thead valign="bottom">
<tr><th class="head"> 方法名 </th>
<th class="head"> 说明 </th>
</tr>
</thead>
<tbody valign="top">
<tr><td>GET</td>
<td> 获取资源 </td>
</tr>
<tr><td>PUT</td>
<td> 更新资源 </td>
</tr>
<tr><td>DELETE</td>
<td> 删除资源 </td>
</tr>
<tr><td>POST</td>
<td> 添加资源 </td>
</tr>
<tr><td>HEAD</td>
<td> 获取 HTTP 响应首部 </td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id21"> 状态码 </a></h2>
<p> 每条 HTTP 响应报文返回时都会携带一个状态码。</p>
<p> 状态码是一个三位数字，用来告知客户端请求是否成功，
或者是否需要采取其它动作。</p>
<p>HTTP 的响应报文中除了会返回状态码之外，还会同时返回对应的原因短语。</p>
<p> 常见 HTTP 状态码：</p>
<blockquote>
<ul class="simple">
<li>200 OK：文档正常返回 </li>
<li>302 Redirect：重定向，到其它地方获取资源 </li>
<li>404 Not Found：没找到，无法找到该资源 </li>
</ul>
</blockquote>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id22"> 报文 </a></h2>
<p>HTTP 报文是由一行行的简单字符串组成的。HTTP 报文都是纯文本，非二进制代码。</p>
<img alt="" src="http_definitive_guide/static/http_messages.png"/>
<p>HTTP 报文分为：</p>
<blockquote>
<ul class="simple">
<li> 请求报文（request message）</li>
<li> 响应报文（response message）</li>
</ul>
</blockquote>
<p>HTTP 报文包括以下三个部分：</p>
<ul>
<li><p class="first"> 起始行 </p>
<p> 报文的第一行就是起始行，
在请求报文里说明要做些什么，
在响应报文中说明出现了什么情况。</p>
</li>
<li><p class="first"> 首部字段 </p>
<p> 起始行后面有零个或多个首部字段。
每个字段都包含一个名字和一个值。两者用：号分割。
首部以一个空行结束。</p>
</li>
<li><p class="first"> 主体 </p>
<p> 空行之后就是可选的报文主体了。其中包含了所有类型的数据。
请求报文主体中包含了要发给服务器的数据；响应报文主体中包含了
要返回客户端的数据。主体中可以包含任意的二进制数据。</p>
</li>
</ul>
<img alt="" src="http_definitive_guide/static/http_get_transaction.png"/>
</div>
<div class="section" id="id7">
<h2><a class="toc-backref" href="#id23"> 连接 </a></h2>
<p>HTTP 是个应用层协议，它将联网的具体细节交给了 TCP/IP 协议。
所以在 HTTP 客户端向服务器发送报文之前，需要用 IP 地址及端口号在
客户端与服务器之间建立一条 TCP/IP 连接。</p>
<p> 之前有讲过，客户端是通过 URL 来请求资源的。
所以 IP 地址及端口也是从 URL 中获取到的。</p>
<p> 下面简单介绍一下浏览器的连接步骤：</p>
<ul class="simple">
<li> 浏览器从 URL 中解析出服务器的主机名 / 域名 </li>
<li> 浏览器将主机名 / 域名通过 DNS 服务转换成服务器的 IP 地址 </li>
<li> 浏览器将端口号从 URL 中解析出来（没有则用默认的端口号）</li>
<li> 浏览器建立一条与服务器的 TCP 连接 </li>
<li> 浏览器向服务器发送一条 HTTP 请求报文 </li>
<li> 服务器向浏览器回送一条 HTTP 响应报文 </li>
<li> 浏览器关闭连接，渲染并显示文档 </li>
</ul>
<img alt="" src="http_definitive_guide/static/http_connection.png"/>
</div>
<div class="section" id="id8">
<h2><a class="toc-backref" href="#id24">Web 的结构组件 </a></h2>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id25"> 代理 </a></h3>
<p> 位于客户端和服务器之间。</p>
<p> 一般的应用场景是，客户端无法访问某些服务器，但是可以连接到某台设备，
而这台设备可以访问这些服务器，那么就可以在这个设备上开启一个代理服务器，
客户端通过走这台设备的代理就可以访问那些它之前无法访问的服务器了。</p>
<img alt="" src="http_definitive_guide/static/http_proxy.png"/>
</div>
<div class="section" id="id10">
<h3><a class="toc-backref" href="#id26"> 缓存 </a></h3>
<p> 它是一种特殊的代理服务器，可以将经过代理传送的常用文档保存下来，
当有其它客户端或者该客户端再次请求相同文档时，
就可以直接将缓存的文档返回了。</p>
<img alt="" src="http_definitive_guide/static/http_proxy_cache.png"/>
</div>
<div class="section" id="id11">
<h3><a class="toc-backref" href="#id27"> 网关 </a></h3>
<p> 也是一种特殊的代理服务器中，通常是将 HTTP 请求转换成其它协议的请求。</p>
<img alt="" src="http_definitive_guide/static/http_proxy_gateway.png"/>
</div>
<div class="section" id="id12">
<h3><a class="toc-backref" href="#id28"> 隧道 </a></h3>
<p> 对 HTTP 通信报文进行盲转发的特殊代理。
在一条或者多条 HTTP 连接上转发非 HTTP 数据，转发时不会窥探数据。</p>
<p> 常用的就是 HTTPS，通过 HTTP 连接承载加密安全套接字层（SSL）。</p>
<img alt="" src="http_definitive_guide/static/http_tunnel.png"/>
</div>
<div class="section" id="agent">
<h3><a class="toc-backref" href="#id29">Agent 代理 </a></h3>
<p> 是指代表客户发起 HTTP 请求的客户端程序。</p>
<p> 最有代表性的就是：浏览器。</p>
</div>
</div>

            
            <section>
<div class="accordion" id="accordion2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle disqus-comment-count" data-toggle="collapse" data-parent="#accordion2"
                href="http://chenjiee815.github.io/httpquan-wei-zhi-nan-bi-ji-di-yi-zhang-httpgai-shu.html#disqus_thread">
                Comments
            </a>
        </div>
        <div id="disqus_thread" class="accordion-body collapse">
            <div class="accordion-inner">
                <div class="comments">
                    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'chenjiee815blog';
        var disqus_identifier = 'http://chenjiee815.github.io/httpquan-wei-zhi-nan-bi-ji-di-yi-zhang-httpgai-shu.html';
    var disqus_url = 'http://chenjiee815.github.io/httpquan-wei-zhi-nan-bi-ji-di-yi-zhang-httpgai-shu.html';

    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

                </div>
            </div>
        </div>
    </div>
</div>
</section>

            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2014-08-16T09:10:44.200008">Aug 16, 2014</time>
            <h4>Category</h4>
            <a class="category-link" href="http://chenjiee815.github.io/categories.html#http-ref">http</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="http://chenjiee815.github.io/tags.html#http-ref">http
                    <span>4</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="http://www.htdp.org/" title="My HTDP Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-htdp sidebar-social-links"></i></a>
    <a href="http://mitpress.mit.edu/sicp/" title="My SICP Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-sicp sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>

                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

            <script type="text/javascript">
var disqus_shortname = 'chenjiee815blog';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
<script  language="javascript" type="text/javascript">
function uncollapse() {
    if (window.location.hash.match(/^#comment-\d+$/)) {
        $('#disqus_thread').collapse('show');
    }
}
</script>
<script type="text/javascript" language="JavaScript">
uncollapse();
window.onhashchange=function(){
    if (window.location.hash.match(/^#comment-\d+$/))
        window.location.reload(true);
}
</script>
<script>
$('#disqus_thread').on('shown', function () {
    var link = document.getElementsByClassName('accordion-toggle');
    var old_innerHTML = link[0].innerHTML;
    $(link[0]).fadeOut(500, function() {
        $(this).text('Click here to hide comments').fadeIn(500);
    });
    $('#disqus_thread').on('hidden', function () {
        $(link[0]).fadeOut(500, function() {
            $(this).text(old_innerHTML).fadeIn(500);
        });
    })
})
</script>


    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>